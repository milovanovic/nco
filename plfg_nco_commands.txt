val paramsNCO = FixedNCOParams(
        tableSize = 256,
        tableWidth = 16,
        phaseWidth = 10,
        rasterizedMode = false,
        nInterpolationTerms = 0,
        ditherEnable = false,
        syncROMEnable = false,
        phaseAccEnable = true,
        roundingMode = RoundHalfUp,
        pincType = Streaming,
        poffType = Fixed
	)
	
	val paramsPLFG = FixedPLFGParams(
        maxNumOfSegments = 4,
        maxNumOfDifferentChirps = 8,
        maxNumOfRepeatedChirps = 8,
        maxChirpOrdinalNum = 4,
        maxNumOfFrames = 4,
        maxNumOfSamplesWidth = 12,
        outputWidthInt = 16,
        outputWidthFrac = 0
    )
    
    // ofseti
    val segmentNumsArrayOffset = 6 * beatBytes
    val repeatedChirpNumsArrayOffset = segmentNumsArrayOffset + 4 * beatBytes
    val chirpOrdinalNumsArrayOffset = repeatedChirpNumsArrayOffset + 8 * beatBytes
    
    //ramAddress - adresni set PLFG modula u RAM memoriji
    //csrAddressPLFG - adresni set PLFG registara u mem. map. prostoru
    //NCO koristi streaming interfejs i na ulazu i na izlazu, pa nije potrebno nista podesavati

    memWriteWord(ramAddress.base, 0x24000000) //donjih 16 bita - nagib segmenta, narednih 12 - broj semplova u segmentu, naredni - ulazni/silazni, naredni - reset/ne reset. Ovde je upisan segment duzine 1024 tacke, koji sve vreme treba da ima pocetnu vrednost (to ce biti vrednost 1)
    memWriteWord(csrAddressPLFG.base + 2*beatBytes, 1) // broj frejmova
    memWriteWord(csrAddressPLFG.base + 4*beatBytes, 1) // broj razlicitih cirpova
    memWriteWord(csrAddressPLFG.base + 5*beatBytes, 1) // pocetna vrednost
    memWriteWord(csrAddressPLFG.base + segmentNumsArrayOffset, 1) // broj segmenata za prvi cirp
    memWriteWord(csrAddressPLFG.base + repeatedChirpNumsArrayOffset, 1) // broj ponavljanja prvog cirpa
    memWriteWord(csrAddressPLFG.base + chirpOrdinalNumsArrayOffset, 0) // redni broj cirpa koji se prvi pojavljuje
    memWriteWord(csrAddressPLFG.base + beatBytes, 0) // postavljanje reset bita na nulu
    memWriteWord(csrAddressPLFG.base, 1) // postavljanje enable bita na 1
    poke(dut.outStream.ready, 1) // javljanje da je izlaz spreman da prihvati podatke
